-- // Roblox Executor Intro v7 - Centered Decals + White Fill Bar + Auto Loadstrings by Zynix
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local camera = workspace:FindFirstChildOfClass("Camera") or workspace.CurrentCamera

-- Sound ID
local clickSoundId = "rbxassetid://535716488"

-- Decals
local decals = {
    "rbxassetid://91566983015626",
    "rbxassetid://90292593237256",
    "rbxassetid://125986036035797"
}

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ExecutorIntro_Centered"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Blur background
local blur = Instance.new("BlurEffect")
blur.Name = "ExecutorIntroBlur"
blur.Size = 0
blur.Parent = game.Lighting

-- Play sound helper
local function playSoundOnce(id)
    local s = Instance.new("Sound")
    s.SoundId = id
    s.Volume = 1
    s.Looped = false
    s.Parent = playerGui
    s:Play()
    s.Ended:Connect(function() pcall(function() s:Destroy() end) end)
end

-- Tween helper
local function tweenObj(obj, props, time, style, dir)
    local info = TweenInfo.new(time or 0.5, style or Enum.EasingStyle.Quad, dir or Enum.EasingDirection.Out)
    local t = TweenService:Create(obj, info, props)
    t:Play()
    return t
end

-- Create centered image
local function createCenteredImage(imageId)
    local vp = camera and camera.ViewportSize or Vector2.new(1280,720)
    local sizePx = math.clamp(math.floor(vp.X*0.35),140,420)
    local img = Instance.new("ImageLabel")
    img.Name = "IntroDecal"
    img.AnchorPoint = Vector2.new(0.5,0.5)
    img.Position = UDim2.new(0.5,0,0.5,0)
    img.Size = UDim2.new(0,sizePx,0,sizePx)
    img.BackgroundTransparency = 1
    img.Image = imageId
    img.ImageTransparency = 1
    img.Parent = screenGui
    return img
end

-- Tween blur
local function tweenBlur(toSize, time)
    time = time or 0.4
    pcall(function()
        tweenObj(blur,{Size=toSize},time)
    end)
end

-- PROGRESS BAR SETUP (white, uncurved)
local barFrame = Instance.new("Frame")
barFrame.Size = UDim2.new(0.5,0,0,20) -- 50% width
barFrame.Position = UDim2.new(0.25,0,0.85,0)
barFrame.AnchorPoint = Vector2.new(0,0)
barFrame.BackgroundColor3 = Color3.fromRGB(40,40,40)
barFrame.BorderSizePixel = 0
barFrame.ClipsDescendants = true
barFrame.Parent = screenGui

local barFill = Instance.new("Frame")
barFill.Size = UDim2.new(0,0,1,0)
barFill.Position = UDim2.new(0,0,0,0)
barFill.BackgroundColor3 = Color3.fromRGB(255,255,255) -- white fill
barFill.BorderSizePixel = 0
barFill.Parent = barFrame

-- Total intro duration
local introDurations = {1,2,5}
local totalDuration = 0
for _,v in ipairs(introDurations) do totalDuration = totalDuration+v end

-- Animate fill bar
spawn(function()
    tweenObj(barFill,{Size=UDim2.new(1,0,1,0)}, totalDuration, Enum.EasingStyle.Linear)
end)

-- Main intro
spawn(function()
    tweenBlur(22,0.45)
    wait(0.12)
    
    for i,decalId in ipairs(decals) do
        local ok,img = pcall(createCenteredImage,decalId)
        if not ok or not img then
            img = Instance.new("ImageLabel")
            img.AnchorPoint = Vector2.new(0.5,0.5)
            img.Position = UDim2.new(0.5,0,0.5,0)
            img.Size = UDim2.new(0,220,0,220)
            img.BackgroundTransparency = 1
            img.Parent = screenGui
        end
        
        pcall(playSoundOnce,clickSoundId)
        
        tweenObj(img,{ImageTransparency=0},0.3)
        tweenObj(img,{Position=UDim2.new(0.5,0,0.5, i==3 and -10 or -15)},0.35)
        
        if i==1 then wait(1)
        elseif i==2 then wait(2)
        elseif i==3 then
            local currentSize = img.Size
            local targetScale = 1.6
            local targetSize = UDim2.new(0, math.floor(currentSize.X.Offset*targetScale),0, math.floor(currentSize.Y.Offset*targetScale))
            tweenObj(img,{Size=targetSize, Position=UDim2.new(0.5,0,0.5,0)},5)
            wait(5)
        end
        
        tweenObj(img,{ImageTransparency=1},0.35)
        wait(0.36)
        pcall(function() img:Destroy() end)
    end
    
    -- fade out blur and progress bar
    tweenObj(barFrame,{BackgroundTransparency=1},0.4)
    tweenObj(barFill,{BackgroundTransparency=1},0.4)
    tweenBlur(0,0.45)
    wait(0.5)

    -- execute your loadstrings automatically
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/SkyeMoz/MozCraft/refs/heads/main/Execute/Function"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/SkyeMoz/MozCraft/refs/heads/main/Execute/Tab"))()
    end)

    -- cleanup GUI
    pcall(function()
        screenGui:Destroy()
        blur:Destroy()
    end)
end)
